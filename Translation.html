<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Translation - Message translation framework : OpenKore source code documentation</title>
	<link rel="stylesheet" type="text/css" href="openkore.css">
	<link rel="stylesheet" type="text/css" href="highlight.css">
	<!-- Fix broken PNG transparency for IE/Win5-6+ -->
	<!--[if gte IE 5.5000]>
	<script type="text/javascript" src="pngfix.js"></script>
	<![endif]-->
</head>

<body>

<div id="title">OpenKore source code documentation</div>

<div id="navigation">
	<ul>
	<li><a href="http://www.openkore.com/">Main website</a></li>
	<li><a href="index.html">Table of contents</a></li>
	<li><b>Translation</b></li>
	</ul>
</div>

<div id="main">


<h1>Translation - Message translation framework</h1>

This module provides functions for translating messages in the user's
native language. Translations are stored in
<a href="http://www.gnu.org/software/gettext/">GNU gettext</a> translation
files (*.mo).
<p>

<b>Notes:</b>
<ul>
<li>Translation files MUST be encoded in UTF-8 (without BOM).</li>
<li>We use short locale names, as defined by <a href="http://www.loc.gov/standards/iso639-2/php/English_list.php">http://www.loc.gov/standards/iso639-2/php/English_list.php</a>
</li>
</ul>


<p><table class="functionIndex">
<tr><th colspan="3">Functions in this module</th></tr><tr onclick="location.href='#Translation->new';">
	<td class="return-type"><a href="Translation.html">Translation</a></td>
	<td class="func"><a href="#Translation->new">Translation->new</a></td>
	<td class="decl">(<span class="type">[String</span> podir, String locale])</td>
</tr><tr onclick="location.href='#$Translation->translate';">
	<td class="return-type">String</td>
	<td class="func"><a href="#$Translation->translate">$Translation->translate</a></td>
	<td class="decl">(<span class="type">String</span> message)</td>
</tr><tr onclick="location.href='#Translation::T';">
	<td class="return-type">String</td>
	<td class="func"><a href="#Translation::T">Translation::T</a></td>
	<td class="decl">(<span class="type">String</span> message)</td>
</tr><tr onclick="location.href='#Translation::TF';">
	<td class="return-type">String</td>
	<td class="func"><a href="#Translation::TF">Translation::TF</a></td>
	<td class="decl">(<span class="type">String</span> format, ...)</td>
</tr><tr onclick="location.href='#Translation::getLocaleCharset';">
	<td class="return-type">String</td>
	<td class="func"><a href="#Translation::getLocaleCharset">Translation::getLocaleCharset</a></td>
	<td class="decl">()</td>
</tr><tr onclick="location.href='#Translation::initDefault';">
	<td class="return-type">boolean</td>
	<td class="func"><a href="#Translation::initDefault">Translation::initDefault</a></td>
	<td class="decl">(<span class="type">[String</span> podir, String locale])</td>
</tr>
</table>


<p><hr class="details_sep">

<h2>Details</h2>
<div class="details">


<p>
<div class="function"><a name="$Translation-&gt;translate"></a>
<h3>$Translation-&gt;translate</h3>
<dl>
	<dt class="decl">
		<span class="return-type"> String</span> <strong>$Translation-&gt;translate</strong>(<span class="type">String</span> message)
	</dt>
	<dd>
		<dl class="params_and_returns">
		<dt class="params"><strong>Parameters:</strong></dt>
			<dd class="param"><code>message</code> : The message to translate.</dd>
		<dt class="returns"><strong>Returns:</strong></dt>
			<dd class="returns">the translated message, or the original message if it cannot be translated.</dd>
		</dl><p>

		<div class="desc">Translate <code>$message</code> using the translation file defined by this class.
<p>

This function is meant for plugin developers, who have their translation files
stored in a different folder than OpenKore's. If you want to translate strings
in OpenKore, then you should use <a href="Translation.html#Translation::T"><code>Translation::T()</code></a> instead.</div>

		<dl class="example">
			<dt><strong>Example:</strong></dt>
			<dd><pre><span class="hl kwc">my</span> <span class="hl kwb">$t</span> <span class="hl sym">=</span> new <span class="hl kwd">Translation</span><span class="hl sym">;</span>
<span class="hl kwc">print</span><span class="hl sym">(</span><span class="hl kwb">$t</span><span class="hl sym">-&gt;</span><span class="hl kwd">translate</span><span class="hl sym">(</span><span class="hl str">&quot;hello world</span><span class="hl esc">\n</span><span class="hl str">&quot;</span><span class="hl sym">));</span>
</pre></dd>
		</dl>
	</dd>
</dl>
</div>


<p><hr class="function_sep"><p>
<div class="function"><a name="Translation-&gt;new"></a>
<h3>Translation-&gt;new</h3>
<dl>
	<dt class="decl">
		<span class="return-type"> <a href="Translation.html">Translation</a></span> <strong>Translation-&gt;new</strong>(<span class="type">[String</span> podir, String locale])
	</dt>
	<dd>
		<dl class="params_and_returns">
		<dt class="params"><strong>Parameters:</strong></dt>
			<dd class="param"><code>podir</code> : the directory which contains translation files.</dd>
			<dd class="param"><code>locale</code> : the name of a locale.</dd>
		<dt class="returns"><strong>Returns:</strong></dt>
			<dd class="returns">a Translation object.</dd>
		</dl><p>

		<div class="desc">Create a new Translation object. A suitable language file will be loaded
from <code>$podir</code>. If <code>$locale</code> is not defined, then the operating system's locale
will be automatically detected. If <code>$podir</code> is not specified, it will default
to OpenKore's own translation files folder.
<p>

You're probably looking for <a href="Translation.html#Translation::T"><code>Translation::T()</code></a> instead. See
<a href="Translation.html#$Translation->translate"><code>$Translation->translate()</code></a> for rationale.</div>
	</dd>
</dl>
</div>


<p><hr class="function_sep"><p>
<div class="function"><a name="Translation::T"></a>
<h3>Translation::T</h3>
<dl>
	<dt class="decl">
		<span class="return-type"> String</span> <strong>Translation::T</strong>(<span class="type">String</span> message)
	</dt>
	<dd>
		<dl class="params_and_returns">
		<dt class="params"><strong>Parameters:</strong></dt>
			<dd class="param"><code>message</code> : The message to translate.</dd>
		<dt class="requires"><strong>Requires:</strong></dt>
			<dd class="requires">Translation::initDefault() must have been called once.</dd>
		<dt class="returns"><strong>Returns:</strong></dt>
			<dd class="returns">the translated message, or the original message if it cannot be translated.</dd>
		</dl><p>

		<div class="desc">Translate <code>$message</code>.
<p>

This symbol is automatically exported.
<p>

See also: <code>$translation->translate()</code> and <a href="Translation.html#Translation::TF"><code>Translation::TF()</code></a></div>

		<dl class="example">
			<dt><strong>Example:</strong></dt>
			<dd><pre><span class="hl kwa">use</span> <span class="hl kwd">Translation</span><span class="hl sym">;</span>
Translation<span class="hl sym">::</span><span class="hl kwd">initDefault</span><span class="hl sym">();</span>
<span class="hl kwc">print</span><span class="hl sym">(</span><span class="hl kwd">T</span><span class="hl sym">(</span><span class="hl str">&quot;hello world</span><span class="hl esc">\n</span><span class="hl str">&quot;</span><span class="hl sym">));</span>
</pre></dd>
		</dl>
	</dd>
</dl>
</div>


<p><hr class="function_sep"><p>
<div class="function"><a name="Translation::TF"></a>
<h3>Translation::TF</h3>
<dl>
	<dt class="decl">
		<span class="return-type"> String</span> <strong>Translation::TF</strong>(<span class="type">String</span> format, ...)
	</dt>
	<dd>
		<dl class="params_and_returns">
		<dt class="requires"><strong>Requires:</strong></dt>
			<dd class="requires">Translation::initDefault() must have been called once; $format must be encoded in UTF-8.</dd>
		<dt class="ensures"><strong>Ensures:</strong></dt>
			<dd class="ensures">the return value is encoded in UTF-8.</dd>
		</dl><p>

		<div class="desc">Translate <code>$format</code>, and perform <code>sprintf()</code> formatting using the specified parameters.
This function is just a convenient way to write:<br>
<code>sprintf(T($format), ...);</code>
<p>

This symbol is automatically exported.</div>

		<dl class="example">
			<dt><strong>Example:</strong></dt>
			<dd><pre><span class="hl kwc">print</span><span class="hl sym">(</span><span class="hl kwd">TF</span><span class="hl sym">(</span><span class="hl str">&quot;Go to %s for more information&quot;</span><span class="hl sym">,</span> <span class="hl kwb">$url</span><span class="hl sym">));</span>
</pre></dd>
		</dl>
	</dd>
</dl>
</div>


<p><hr class="function_sep"><p>
<div class="function"><a name="Translation::getLocaleCharset"></a>
<h3>Translation::getLocaleCharset</h3>
<dl>
	<dt class="decl">
		<span class="return-type"> String</span> <strong>Translation::getLocaleCharset</strong>()
	</dt>
	<dd>
		<div class="desc">Return the character set for the current system's locale.
The return value is guaranteed to be a valid character set name.</div>
	</dd>
</dl>
</div>


<p><hr class="function_sep"><p>
<div class="function"><a name="Translation::initDefault"></a>
<h3>Translation::initDefault</h3>
<dl>
	<dt class="decl">
		<span class="return-type"> boolean</span> <strong>Translation::initDefault</strong>(<span class="type">[String</span> podir, String locale])
	</dt>
	<dd>
		<dl class="params_and_returns">
		<dt class="params"><strong>Parameters:</strong></dt>
			<dd class="param"><code>         initialization failed</code> : this module will automatically         fallback to using the original (English) strings.</dd>
		<dt class="ensures"><strong>Ensures:</strong></dt>
			<dd class="ensures"><a href="Translation.html#Translation::T"><code>Translation::T()</code></a> and <a href="Translation.html#Translation::TF"><code>Translation::TF()</code></a> will be usable.</dd>
		<dt class="returns"><strong>Returns:</strong></dt>
			<dd class="returns">Whether initialization succeeded. It is not fatal if</dd>
		</dl><p>

		<div class="desc">Initialize the default translation object. <a href="Translation.html#Translation::T"><code>Translation::T()</code></a> and
<a href="Translation.html#Translation::TF"><code>Translation::TF()</code></a> will only be usable after calling this function once.</div>
	</dd>
</dl>
</div>





</div>


<p><hr><p>

<div id="footer">
	<ul>
	<li><a href="http://validator.w3.org/check?uri=referer" title="Valid HTML 4.01!"><img src="http://www.w3.org/Icons/valid-html401" alt="Valid HTML 4.01!" height="31" width="88"></a></li>
	<li><a href="http://www.mozilla.com/" title="Get Firefox - Take Back the Web"><img width="104" height="32" src="http://www.mozilla.org/products/firefox/buttons/getfirefox_small.png" alt="Get Firefox - Take Back the Web"></a></li>
	<li><a href="http://www.mozilla.com/" title="If you were looking at this page in any browser but Microsoft Internet Explorer, it would look and run better and faster"><img width="45" height="45" src="http://linuxart.com/img/noIE-small.png" alt="If you were looking at this page in any browser but Microsoft Internet Explorer, it would look and run better and faster"></a></li>
	</ul>

	Last modified: Fri Nov 16 10:05:11 2012
</div>

</div>

</body>
</html>
